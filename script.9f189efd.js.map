{"version":3,"sources":["script.js"],"names":["txtEditor","document","querySelector","toolbarButtonList","querySelectorAll","toolbarButton","buttonActionName","id","onclick","window","btnClear_Action","tx","value","focus","btnUndo_Action","execCommand","btnRedo_Action","btnCopy_Action","trim","length","navigator","clipboard","writeText","btnPaste_Action","readText","then","clip","selStart","selectionStart","selEnd","selectionEnd","old","slice","setSelectionRange","btnWrap_Action","wrap","btnQuote_Action","insertText","btnEnDash_Action","btnEmDash_Action","btnJapaneseLongVowel_Action","selected","btnUpperCase_Action","toUpperCase","btnLowerCase_Action","toLowerCase","openText","closeText","undefined","localStorage","getItem","setInterval","setItem","onbeforeunload","e","returnValue","preventDefault"],"mappings":"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","file":"script.9f189efd.js","sourceRoot":"..","sourcesContent":["const txtEditor = document.querySelector('.textedit');\r\n\r\nconst toolbarButtonList = document.querySelectorAll(\"[id^='btn']\");\r\n\r\nfor (const toolbarButton of toolbarButtonList) {\r\n  let buttonActionName = toolbarButton.id + '_Action';\r\n  toolbarButton.onclick = () => { window[buttonActionName](txtEditor) };\r\n}\r\n\r\n// To add a new toolbar button:\r\n// In HTML: add a new <button> element with id as 'btnFunction'.\r\n// In JS: add a normal function with name as 'btnFunction_Action' and a parameter for <textarea> element.\r\n// The code above will automatically bind the action function with corresponding function.\r\n\r\n// Auto-save functionality\r\nif(localStorage.getItem('text_content'))\r\n  txtEditor.value = localStorage.getItem('text_content');\r\n\r\nsetInterval(function() {\r\n  localStorage.setItem('text_content', txtEditor.value);\r\n}, 3000);\r\n\r\n// Prevent accidental unload\r\nwindow.onbeforeunload = e => {\r\n  if (txtEditor.value === '') delete e.returnValue;\r\n  else {\r\n    e.preventDefault();\r\n    e.returnValue = '';\r\n  }\r\n};\r\n\r\nfunction btnClear_Action(tx) {\r\n  tx.value = '';\r\n  tx.focus();\r\n}\r\n\r\nfunction btnUndo_Action (tx) {\r\n  document.execCommand('undo');\r\n}\r\n\r\nfunction btnRedo_Action (tx) {\r\n  document.execCommand('redo');\r\n}\r\n\r\nfunction btnCopy_Action (tx) {\r\n  if (tx.value.trim().length > 0)\r\n    navigator.clipboard.writeText(tx.value);\r\n}\r\n\r\nfunction btnPaste_Action (tx) {\r\n  navigator.clipboard.readText()\r\n    .then((clip) => {\r\n      let selStart = tx.selectionStart;\r\n      let selEnd = tx.selectionEnd;\r\n      let old = tx.value;\r\n      tx.value = old.slice(0, selStart) + clip + old.slice(selEnd);\r\n      tx.setSelectionRange(selStart, selStart !== selEnd ? selStart + clip.length : selEnd);\r\n      tx.focus();\r\n    });\r\n}\r\n\r\nfunction btnWrap_Action (tx) {\r\n  tx.wrap = tx.wrap === 'off' ? 'soft' : 'off';\r\n}\r\n\r\nfunction btnQuote_Action(tx) {\r\n  insertText (tx, '“', '”');\r\n}\r\n\r\nfunction btnEnDash_Action(tx) {\r\n  insertText (tx, '–');\r\n}\r\n\r\nfunction btnEmDash_Action(tx) {\r\n  insertText (tx, '—');\r\n}\r\n\r\nfunction btnJapaneseLongVowel_Action(tx) {\r\n  let selStart = tx.selectionStart;\r\n  let selEnd = tx.selectionEnd;\r\n  let old = tx.value;\r\n\r\n  if (selStart === selEnd && selStart > 0) selStart--;\r\n\r\n  let selected = old.slice(selStart, selEnd);\r\n  if (selected.length !== 1) return;\r\n\r\n  switch (selected)\r\n  {\r\n    case 'a':\r\n      selected = 'ā';\r\n      break;\r\n    case 'i':\r\n      selected = 'ī';\r\n      break\r\n    case 'u':\r\n      selected = 'ū';\r\n      break;\r\n    case 'e':\r\n      selected = 'ē';\r\n      break;\r\n    case 'o':\r\n      selected = 'ō';\r\n      break;\r\n    case 'A':\r\n      selected = 'Ā';\r\n      break;\r\n    case 'I':\r\n      selected = 'Ī';\r\n      break\r\n    case 'U':\r\n      selected = 'Ū';\r\n      break;\r\n    case 'E':\r\n      selected = 'Ē';\r\n      break;\r\n    case 'O':\r\n      selected = 'Ō';\r\n  }\r\n\r\n  tx.value = old.slice(0, selStart) + selected + old.slice(selEnd);\r\n  tx.setSelectionRange(selEnd, selEnd);\r\n  tx.focus();\r\n}\r\n\r\nfunction btnUpperCase_Action(tx) {\r\n  let selStart = tx.selectionStart;\r\n  let selEnd = tx.selectionEnd;\r\n  let old = tx.value;\r\n  tx.value = old.slice(0, selStart) + old.slice(selStart, selEnd).toUpperCase() + old.slice(selEnd);\r\n  tx.setSelectionRange(selStart, selEnd);\r\n  tx.focus();\r\n}\r\n\r\nfunction btnLowerCase_Action(tx) {\r\n  let selStart = tx.selectionStart;\r\n  let selEnd = tx.selectionEnd;\r\n  let old = tx.value;\r\n  tx.value = old.slice(0, selStart) + old.slice(selStart, selEnd).toLowerCase() + old.slice(selEnd);\r\n  tx.setSelectionRange(selStart, selEnd);\r\n  tx.focus();\r\n}\r\n\r\nfunction insertText(tx, openText, closeText) {\r\n  // If supplied just one: insert {openText}.\r\n  // If supplied both: insert or wrap with both.\r\n \r\n  let selStart = tx.selectionStart;\r\n  let selEnd = tx.selectionEnd;\r\n  let old = tx.value;\r\n \r\n  if (closeText === undefined) closeText = '';\r\n \r\n  tx.value = old.slice(0, selStart)\r\n              + openText + old.slice(selStart, selEnd) + closeText\r\n              + old.slice(selEnd);\r\n\r\n  tx.setSelectionRange(selStart + openText.length, selEnd + openText.length);\r\n\r\n  tx.focus();\r\n}"]}